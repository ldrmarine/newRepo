"use strict";(self.webpackChunktsn_ua=self.webpackChunktsn_ua||[]).push([[876],{4674:()=>{function t(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(t){if("string"==typeof t)return i(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?i(t,r):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,i){(null==i||i>t.length)&&(i=t.length);for(var r=0,s=new Array(i);r<i;r++)s[r]=t[r];return s}function r(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function s(t,i){for(var r=0;r<i.length;r++){var s=i[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var e=function(){function i(s){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,i),this.config=Object.assign({isDynamic:!1,step:{port:.9,min:270,max:700},$arrows:[],class:{variety:{touch:"c-scroller--touch",scroll:"c-scroller--scroll"}},selector:{port:".js-scroller__port",lining:".js-scroller__lining",arrows:".js-scroller__arrow"}},e),this.hasTouch=navigator.maxTouchPoints>0,this.$scroller=s,this.$port=s.querySelector(this.config.selector.port),this.portWidth=0,this.portDeltaX=0,this.$lining=s.querySelector(this.config.selector.lining),this.liningWidth=0,this.liningDelta=0,this.liningPosition=0,this.isLiningEnd=!1,this.isLiningStart=!1,this.isScrollActive=!1,this.$arrows=this.config.$arrows.length?this.config.$arrows:t(this.$scroller.querySelectorAll(this.config.selector.arrows)),this.hasArrows=this.$arrows.length,this.arrowStep=0,this.arrowEvents=[],this.build=this.build.bind(this),document.fonts.ready.then(this.build)}var e,n;return e=i,(n=[{key:"build",value:function(){var t=this;this.hasTouch?this.$scroller.classList.add(this.config.class.variety.touch):(this.updateBase(),this.updateControls(),this.updatePort(),this.hasArrows&&this.attachArrows(),window.addEventListener("load",(function(){t.$arrows.forEach((function(t){return t.style.display=null}))})),["eResize","ramResize","ePortScroll","ramPortScroll"].forEach((function(i){t[i]=t[i].bind(t)})),this.$port.addEventListener("wheel",this.ePortScroll,{passive:!0}),window.addEventListener("resize",this.eResize))}},{key:"eResize",value:function(){window.requestAnimationFrame(this.ramResize)}},{key:"ramResize",value:function(){this.updateBase(),this.updateControls(),this.updatePort()}},{key:"destroy",value:function(){var t=this;if(!this.hasTouch)return this.liningPosition=0,this.isScrollActive=!1,this.updateControls(),this.hasArrows&&this.detachArrows(),this.config.class.variety.forEach((function(i){t.$scroller.classList.remove(i)})),window.removeEventListener("resize",this.eResize),window.cancelAnimationFrame(this.ramResize),window.removeEventListener("wheel",this.ePortScroll),window.cancelAnimationFrame(this.ramPortScroll),Object.keys(this).forEach((function(i){delete t[i]})),this;this.$scroller.classList.remove(this.config.class.variety.touch)}},{key:"updateBase",value:function(){this.portWidth=this.$port.offsetWidth,this.liningWidth=this.$lining.offsetWidth,this.liningDelta=this.portWidth-this.liningWidth,this.isScrollActive=this.liningWidth>this.portWidth;var t=this.config.step.port*this.portWidth;this.arrowStep=t<this.config.step.min?this.config.step.min:t>this.config.step.max?this.config.step.max:t}},{key:"updateControls",value:function(){this.isScrollActive?(this.$scroller.classList.add(this.config.class.variety.scroll),this.hasArrows&&this.enableArrows()):(this.$scroller.classList.remove(this.config.class.variety.scroll),this.hasArrows&&this.disableArrows())}},{key:"liningTransform",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.liningPosition-=t||this.portDeltaX,this.liningCalibration(),this.$lining.style.transform="translateX("+this.liningPosition+"px)"}},{key:"liningCalibration",value:function(){var t=this.liningPosition<this.liningDelta,i=this.liningPosition>0,r=this.$lining.parentNode.scrollLeft;this.liningPosition=t?this.liningDelta:i?0:this.liningPosition,this.isLiningStart=0===this.liningPosition,this.isLiningEnd=this.liningPosition===this.liningDelta,0!==r&&(this.$lining.parentNode.scrollLeft=0)}},{key:"ePortScroll",value:function(t){this.isScrollActive&&(t.preventDefault(),this.portDeltaX=t.shiftKey?t.deltaX:10*t.deltaY,window.requestAnimationFrame(this.ramPortScroll))}},{key:"ramPortScroll",value:function(){this.config.isDynamic&&(this.updateBase(),this.updateControls()),this.updatePort()}},{key:"updatePort",value:function(){this.liningTransform(),this.isLiningStart?this.hasArrows&&(this.disableArrow(0),this.enableArrow(1),this.focusArrow(1)):this.isLiningEnd?this.hasArrows&&(this.disableArrow(1),this.enableArrow(0),this.focusArrow(0)):this.hasArrows&&this.enableArrows()}},{key:"enableArrow",value:function(t){this.$arrows[t].removeAttribute("disabled")}},{key:"enableArrows",value:function(){for(var t=0;t<this.$arrows.length;t++)this.enableArrow(t)}},{key:"disableArrow",value:function(t){this.$arrows[t].setAttribute("disabled","")}},{key:"disableArrows",value:function(){for(var t=0;t<this.$arrows.length;t++)this.disableArrow(t)}},{key:"focusArrow",value:function(t){this.$arrows[t].focus()}},{key:"attachArrows",value:function(){var t=this;this.$arrows.forEach((function(i,r){var s=function(){t.config.isDynamic&&(t.updateBase(),t.updateControls()),t.portDeltaX=0===r?-1*t.arrowStep:t.arrowStep,t.updatePort()};t.arrowEvents.push(s),i.addEventListener("click",s)}))}},{key:"detachArrows",value:function(){var t=this;this.$arrows.forEach((function(i,r){i.removeEventListener("click",t.arrowEvents[r])})),this.arrowEvents=[]}}])&&s(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();document.querySelectorAll(".js-scroller").forEach((function(t){new e(t,{isDynamic:!0,step:{port:.5}})}))}},t=>{t(t.s=4674)}]);