jQuery((function(e){function t(){a&&sessionStorage.setItem("wc_cart_created",(new Date).getTime())}function r(e){a&&(localStorage.setItem(n,e),sessionStorage.setItem(n,e))}function o(){e.ajax(s)}if("undefined"==typeof wc_cart_fragments_params)return!1;var a,n=wc_cart_fragments_params.ajax_url.toString()+"-wc_cart_hash";try{a="sessionStorage"in window&&null!==window.sessionStorage,window.sessionStorage.setItem("wc","test"),window.sessionStorage.removeItem("wc"),window.localStorage.setItem("wc","test"),window.localStorage.removeItem("wc")}catch(e){a=!1}var s={url:wc_cart_fragments_params.wc_ajax_url.toString().replace("%%endpoint%%","get_refreshed_fragments"),type:"POST",success:function(o){o&&o.fragments&&(e.each(o.fragments,(function(t,r){e(t).replaceWith(r)})),a&&(sessionStorage.setItem(wc_cart_fragments_params.fragment_name,JSON.stringify(o.fragments)),r(o.cart_hash),o.cart_hash&&t()),e(document.body).trigger("wc_fragments_refreshed"))}};if(a){var c=null,i=864e5;e(document.body).on("wc_fragment_refresh updated_wc_div",(function(){o()})),e(document.body).on("added_to_cart",(function(e,o,a){var s=sessionStorage.getItem(n);null!=s&&""!==s||t(),sessionStorage.setItem(wc_cart_fragments_params.fragment_name,JSON.stringify(o)),r(a)})),e(document.body).on("wc_fragments_refreshed",(function(){clearTimeout(c),c=setTimeout(o,i)})),e(window).on("storage onstorage",(function(e){n===e.originalEvent.key&&localStorage.getItem(n)!==sessionStorage.getItem(n)&&o()})),e(window).on("pageshow",(function(t){t.originalEvent.persisted&&(e(".widget_shopping_cart_content").empty(),e(document.body).trigger("wc_fragment_refresh"))}));try{var _=e.parseJSON(sessionStorage.getItem(wc_cart_fragments_params.fragment_name)),g=sessionStorage.getItem(n),m=Cookies.get("woocommerce_cart_hash"),d=sessionStorage.getItem("wc_cart_created");if(null!=g&&""!==g||(g=""),null!=m&&""!==m||(m=""),g&&(null==d||""===d))throw"No cart_created";if(d){var w=1*d+i,f=(new Date).getTime();if(w<f)throw"Fragment expired";c=setTimeout(o,w-f)}if(!_||!_["div.widget_shopping_cart_content"]||g!==m)throw"No fragment";e.each(_,(function(t,r){e(t).replaceWith(r)})),e(document.body).trigger("wc_fragments_loaded")}catch(e){o()}}else o();Cookies.get("woocommerce_items_in_cart")>0?e(".hide_cart_widget_if_empty").closest(".widget_shopping_cart").show():e(".hide_cart_widget_if_empty").closest(".widget_shopping_cart").hide(),e(document.body).on("adding_to_cart",(function(){e(".hide_cart_widget_if_empty").closest(".widget_shopping_cart").show()}))}));