!function(e){var i={init:function(i){return i=e.extend({},e.fn.lemmonSlider.defaults,i),this.each((function(){var n=e(this);if(!n.data("slider")){var o=n.find(i.slider),s=n.next().filter(".controls"),l=o.find(i.items),f=1;l.each((function(){f+=e(this).outerWidth(!0)})),o.width(f),i.slideToLast&&o.css("padding-right",n.width()),i.infinite&&(n.data("slider-infinite",!0),f*=3,o.width(f),l.clone(!0,!0).addClass("-after").insertAfter(l.filter(":last")),l.filter(":first").before(l.clone(!0,!0).addClass("-before")),l=o.find(i.items)),n.items=l,n.options=i,t({},n,0,0,0),n.bind("nextSlide",(function(s,f){var r=n.scrollLeft(),d=0,a=0;l.each((function(t){0==d&&e(this).position().left>i.offset&&(d=e(this).position().left,a=t)})),d>0&&o.outerWidth()-r-n.width()-1>0?t(s,n,r+d,a,"slow"):i.loop&&t(s,n,0,0,"slow")})),n.bind("prevSlide",(function(s,f){var r=n.scrollLeft(),d=0,a=0;if(l.each((function(t){e(this).position().left<i.offset&&(d=e(this).position().left,a=t)})),d)t(s,n,r+d,a,"slow");else if(i.loop){var c=o.outerWidth()-n.width(),p=l.filter(":last").position().left;a=l.size()-1,t(s,n,c>p?p:c,a,"slow")}})),n.bind("nextPage",(function(o,s){var r=n.scrollLeft(),d=n.width(),a=0,c=0;l.each((function(i){e(this).position().left<d&&(a=e(this).position().left,c=i)})),a>0&&r+d+1<f?t(o,n,r+a,c,"slow"):i.loop&&t(o,n,0,0,"slow")})),n.bind("prevPage",(function(s,f){var r=n.scrollLeft(),d=n.width(),a=0;if(l.each((function(i){e(this).position().left<1-d&&(a=e(this).next().position().left,slide=i)})),r)0==a?t(s,n,0,0,"slow"):t(s,n,r+a,slide,"slow");else if(i.loop){var c=o.outerWidth()-n.width(),p=l.filter(":last").position().left;c>p?n.animate({scrollLeft:p},"slow"):n.animate({scrollLeft:c},"slow")}})),n.bind("slideTo",(function(e,i,o){t(e,n,n.scrollLeft()+l.filter(":eq("+i+")").position().left,i,o)})),s.find(".next-slide").click((function(){return n.trigger("nextSlide"),!1})),s.find(".prev-slide").click((function(){return n.trigger("prevSlide"),!1})),s.find(".next-page").click((function(){return n.trigger("nextPage"),!1})),s.find(".prev-page").click((function(){return n.trigger("prevPage"),!1})),n.data("slider",{target:n,options:i})}}))},addItem:function(t){t=e.extend({},e.fn.lemmonSlider.defaults,t);var n=e(this),o=n.find(t.slider);n.next().filter(".controls"),o.find(t.items);if(t.infinite=n.data("slider-infinite"),!t.item)return!1;i.destroy.apply(this),t.prepend?o.prepend(t.item):o.append(t.item),i.init.apply(this,[t])},destroy:function(){return this.each((function(){var i=e(this),t=i.next().filter(".controls"),n=i.find("> *:first > *");i.data("slider");i.unbind("nextSlide"),i.unbind("prevSlide"),i.unbind("nextPage"),i.unbind("prevPage"),i.unbind("slideTo"),t.find(".next-slide").unbind("click"),t.find(".prev-slide").unbind("click"),t.find(".next-page").unbind("click"),t.find(".next-page").unbind("click"),i.removeData("slider"),i.data("slider-infinite")&&e.merge(n.filter(".-before"),n.filter(".-after")).each((function(i,t){e(t).remove()}))}))}};function t(i,t,o,s,l){if(t.items.filter("li:eq("+s+")").addClass("active").siblings(".active").removeClass("active"),t.options.center){var f=e(t.items[s]);t.options.offset=Math.floor((e(".qode_image_gallery_holder").width()-f.width())/2),console.log("set offset to ",t.options.offset)}if(void 0===l&&(l="slow"),l)t.animate({scrollLeft:o-t.options.offset},l,(function(){n(t)}));else{t.scrollLeft(o-t.options.offset),n(t)}}function n(e){var i=e.items.filter(".active");if(i.hasClass("-before")){var t=i.prevAll().size();i.removeClass("active"),i=e.items.filter(":not(.-before):eq("+t+")").addClass("active"),e.scrollLeft(e.scrollLeft()+i.position().left-e.options.offset)}else if(i.hasClass("-after")){t=i.prevAll(".-after").size();i.removeClass("active"),i=e.items.filter(":not(.-before):eq("+t+")").addClass("active"),e.scrollLeft(e.scrollLeft()+i.position().left-e.options.offset)}}e.fn.lemmonSlider=function(t,n){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.lemmonSlider"):i.init.apply(this,arguments)},e.fn.lemmonSlider.defaults={items:"> *",loop:!0,slideToLast:!1,slider:"> *:first",infinite:!0,center:!0,offset:0}}(jQuery);